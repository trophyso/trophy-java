package so.trophy.types;

/**
 * This file was auto-generated by Fern from our API Definition.
 */


import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import so.trophy.core.ObjectMappers;
import java.lang.Boolean;
import java.lang.Object;
import java.lang.String;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;
import org.jetbrains.annotations.NotNull;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(
    builder = EventResponse.Builder.class
)
public final class EventResponse {
  private final String eventId;

  private final String metricId;

  private final double total;

  private final List<CompletedAchievementResponse> achievements;

  private final MetricEventStreakResponse currentStreak;

  private final Map<String, MetricEventPointsResponse> points;

  private final Map<String, MetricEventLeaderboardResponse> leaderboards;

  private final Optional<String> idempotencyKey;

  private final Optional<Boolean> idempotentReplayed;

  private final Map<String, Object> additionalProperties;

  private EventResponse(String eventId, String metricId, double total,
      List<CompletedAchievementResponse> achievements, MetricEventStreakResponse currentStreak,
      Map<String, MetricEventPointsResponse> points,
      Map<String, MetricEventLeaderboardResponse> leaderboards, Optional<String> idempotencyKey,
      Optional<Boolean> idempotentReplayed, Map<String, Object> additionalProperties) {
    this.eventId = eventId;
    this.metricId = metricId;
    this.total = total;
    this.achievements = achievements;
    this.currentStreak = currentStreak;
    this.points = points;
    this.leaderboards = leaderboards;
    this.idempotencyKey = idempotencyKey;
    this.idempotentReplayed = idempotentReplayed;
    this.additionalProperties = additionalProperties;
  }

  /**
   * @return The unique ID of the event.
   */
  @JsonProperty("eventId")
  public String getEventId() {
    return eventId;
  }

  /**
   * @return The unique ID of the metric that was updated.
   */
  @JsonProperty("metricId")
  public String getMetricId() {
    return metricId;
  }

  /**
   * @return The user's new total progress against the metric.
   */
  @JsonProperty("total")
  public double getTotal() {
    return total;
  }

  /**
   * @return Achievements completed as a result of this event.
   */
  @JsonProperty("achievements")
  public List<CompletedAchievementResponse> getAchievements() {
    return achievements;
  }

  /**
   * @return The user's current streak.
   */
  @JsonProperty("currentStreak")
  public MetricEventStreakResponse getCurrentStreak() {
    return currentStreak;
  }

  /**
   * @return A map of points systems by key.
   */
  @JsonProperty("points")
  public Map<String, MetricEventPointsResponse> getPoints() {
    return points;
  }

  /**
   * @return A map of leaderboards by key.
   */
  @JsonProperty("leaderboards")
  public Map<String, MetricEventLeaderboardResponse> getLeaderboards() {
    return leaderboards;
  }

  /**
   * @return The idempotency key used for the event, if one was provided.
   */
  @JsonProperty("idempotencyKey")
  public Optional<String> getIdempotencyKey() {
    return idempotencyKey;
  }

  /**
   * @return Whether the event was replayed due to idempotency.
   */
  @JsonProperty("idempotentReplayed")
  public Optional<Boolean> getIdempotentReplayed() {
    return idempotentReplayed;
  }

  @java.lang.Override
  public boolean equals(Object other) {
    if (this == other) return true;
    return other instanceof EventResponse && equalTo((EventResponse) other);
  }

  @JsonAnyGetter
  public Map<String, Object> getAdditionalProperties() {
    return this.additionalProperties;
  }

  private boolean equalTo(EventResponse other) {
    return eventId.equals(other.eventId) && metricId.equals(other.metricId) && total == other.total && achievements.equals(other.achievements) && currentStreak.equals(other.currentStreak) && points.equals(other.points) && leaderboards.equals(other.leaderboards) && idempotencyKey.equals(other.idempotencyKey) && idempotentReplayed.equals(other.idempotentReplayed);
  }

  @java.lang.Override
  public int hashCode() {
    return Objects.hash(this.eventId, this.metricId, this.total, this.achievements, this.currentStreak, this.points, this.leaderboards, this.idempotencyKey, this.idempotentReplayed);
  }

  @java.lang.Override
  public String toString() {
    return ObjectMappers.stringify(this);
  }

  public static EventIdStage builder() {
    return new Builder();
  }

  public interface EventIdStage {
    /**
     * <p>The unique ID of the event.</p>
     */
    MetricIdStage eventId(@NotNull String eventId);

    Builder from(EventResponse other);
  }

  public interface MetricIdStage {
    /**
     * <p>The unique ID of the metric that was updated.</p>
     */
    TotalStage metricId(@NotNull String metricId);
  }

  public interface TotalStage {
    /**
     * <p>The user's new total progress against the metric.</p>
     */
    CurrentStreakStage total(double total);
  }

  public interface CurrentStreakStage {
    /**
     * <p>The user's current streak.</p>
     */
    _FinalStage currentStreak(@NotNull MetricEventStreakResponse currentStreak);
  }

  public interface _FinalStage {
    EventResponse build();

    /**
     * <p>Achievements completed as a result of this event.</p>
     */
    _FinalStage achievements(List<CompletedAchievementResponse> achievements);

    _FinalStage addAchievements(CompletedAchievementResponse achievements);

    _FinalStage addAllAchievements(List<CompletedAchievementResponse> achievements);

    /**
     * <p>A map of points systems by key.</p>
     */
    _FinalStage points(Map<String, MetricEventPointsResponse> points);

    _FinalStage putAllPoints(Map<String, MetricEventPointsResponse> points);

    _FinalStage points(String key, MetricEventPointsResponse value);

    /**
     * <p>A map of leaderboards by key.</p>
     */
    _FinalStage leaderboards(Map<String, MetricEventLeaderboardResponse> leaderboards);

    _FinalStage putAllLeaderboards(Map<String, MetricEventLeaderboardResponse> leaderboards);

    _FinalStage leaderboards(String key, MetricEventLeaderboardResponse value);

    /**
     * <p>The idempotency key used for the event, if one was provided.</p>
     */
    _FinalStage idempotencyKey(Optional<String> idempotencyKey);

    _FinalStage idempotencyKey(String idempotencyKey);

    /**
     * <p>Whether the event was replayed due to idempotency.</p>
     */
    _FinalStage idempotentReplayed(Optional<Boolean> idempotentReplayed);

    _FinalStage idempotentReplayed(Boolean idempotentReplayed);
  }

  @JsonIgnoreProperties(
      ignoreUnknown = true
  )
  public static final class Builder implements EventIdStage, MetricIdStage, TotalStage, CurrentStreakStage, _FinalStage {
    private String eventId;

    private String metricId;

    private double total;

    private MetricEventStreakResponse currentStreak;

    private Optional<Boolean> idempotentReplayed = Optional.empty();

    private Optional<String> idempotencyKey = Optional.empty();

    private Map<String, MetricEventLeaderboardResponse> leaderboards = new LinkedHashMap<>();

    private Map<String, MetricEventPointsResponse> points = new LinkedHashMap<>();

    private List<CompletedAchievementResponse> achievements = new ArrayList<>();

    @JsonAnySetter
    private Map<String, Object> additionalProperties = new HashMap<>();

    private Builder() {
    }

    @java.lang.Override
    public Builder from(EventResponse other) {
      eventId(other.getEventId());
      metricId(other.getMetricId());
      total(other.getTotal());
      achievements(other.getAchievements());
      currentStreak(other.getCurrentStreak());
      points(other.getPoints());
      leaderboards(other.getLeaderboards());
      idempotencyKey(other.getIdempotencyKey());
      idempotentReplayed(other.getIdempotentReplayed());
      return this;
    }

    /**
     * <p>The unique ID of the event.</p>
     * <p>The unique ID of the event.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    @JsonSetter("eventId")
    public MetricIdStage eventId(@NotNull String eventId) {
      this.eventId = Objects.requireNonNull(eventId, "eventId must not be null");
      return this;
    }

    /**
     * <p>The unique ID of the metric that was updated.</p>
     * <p>The unique ID of the metric that was updated.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    @JsonSetter("metricId")
    public TotalStage metricId(@NotNull String metricId) {
      this.metricId = Objects.requireNonNull(metricId, "metricId must not be null");
      return this;
    }

    /**
     * <p>The user's new total progress against the metric.</p>
     * <p>The user's new total progress against the metric.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    @JsonSetter("total")
    public CurrentStreakStage total(double total) {
      this.total = total;
      return this;
    }

    /**
     * <p>The user's current streak.</p>
     * <p>The user's current streak.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    @JsonSetter("currentStreak")
    public _FinalStage currentStreak(@NotNull MetricEventStreakResponse currentStreak) {
      this.currentStreak = Objects.requireNonNull(currentStreak, "currentStreak must not be null");
      return this;
    }

    /**
     * <p>Whether the event was replayed due to idempotency.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage idempotentReplayed(Boolean idempotentReplayed) {
      this.idempotentReplayed = Optional.ofNullable(idempotentReplayed);
      return this;
    }

    /**
     * <p>Whether the event was replayed due to idempotency.</p>
     */
    @java.lang.Override
    @JsonSetter(
        value = "idempotentReplayed",
        nulls = Nulls.SKIP
    )
    public _FinalStage idempotentReplayed(Optional<Boolean> idempotentReplayed) {
      this.idempotentReplayed = idempotentReplayed;
      return this;
    }

    /**
     * <p>The idempotency key used for the event, if one was provided.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage idempotencyKey(String idempotencyKey) {
      this.idempotencyKey = Optional.ofNullable(idempotencyKey);
      return this;
    }

    /**
     * <p>The idempotency key used for the event, if one was provided.</p>
     */
    @java.lang.Override
    @JsonSetter(
        value = "idempotencyKey",
        nulls = Nulls.SKIP
    )
    public _FinalStage idempotencyKey(Optional<String> idempotencyKey) {
      this.idempotencyKey = idempotencyKey;
      return this;
    }

    /**
     * <p>A map of leaderboards by key.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage leaderboards(String key, MetricEventLeaderboardResponse value) {
      this.leaderboards.put(key, value);
      return this;
    }

    /**
     * <p>A map of leaderboards by key.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage putAllLeaderboards(
        Map<String, MetricEventLeaderboardResponse> leaderboards) {
      if (leaderboards != null) {
        this.leaderboards.putAll(leaderboards);
      }
      return this;
    }

    /**
     * <p>A map of leaderboards by key.</p>
     */
    @java.lang.Override
    @JsonSetter(
        value = "leaderboards",
        nulls = Nulls.SKIP
    )
    public _FinalStage leaderboards(Map<String, MetricEventLeaderboardResponse> leaderboards) {
      this.leaderboards.clear();
      this.leaderboards.putAll(leaderboards);
      return this;
    }

    /**
     * <p>A map of points systems by key.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage points(String key, MetricEventPointsResponse value) {
      this.points.put(key, value);
      return this;
    }

    /**
     * <p>A map of points systems by key.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage putAllPoints(Map<String, MetricEventPointsResponse> points) {
      if (points != null) {
        this.points.putAll(points);
      }
      return this;
    }

    /**
     * <p>A map of points systems by key.</p>
     */
    @java.lang.Override
    @JsonSetter(
        value = "points",
        nulls = Nulls.SKIP
    )
    public _FinalStage points(Map<String, MetricEventPointsResponse> points) {
      this.points.clear();
      this.points.putAll(points);
      return this;
    }

    /**
     * <p>Achievements completed as a result of this event.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage addAllAchievements(List<CompletedAchievementResponse> achievements) {
      if (achievements != null) {
        this.achievements.addAll(achievements);
      }
      return this;
    }

    /**
     * <p>Achievements completed as a result of this event.</p>
     * @return Reference to {@code this} so that method calls can be chained together.
     */
    @java.lang.Override
    public _FinalStage addAchievements(CompletedAchievementResponse achievements) {
      this.achievements.add(achievements);
      return this;
    }

    /**
     * <p>Achievements completed as a result of this event.</p>
     */
    @java.lang.Override
    @JsonSetter(
        value = "achievements",
        nulls = Nulls.SKIP
    )
    public _FinalStage achievements(List<CompletedAchievementResponse> achievements) {
      this.achievements.clear();
      this.achievements.addAll(achievements);
      return this;
    }

    @java.lang.Override
    public EventResponse build() {
      return new EventResponse(eventId, metricId, total, achievements, currentStreak, points, leaderboards, idempotencyKey, idempotentReplayed, additionalProperties);
    }
  }
}
